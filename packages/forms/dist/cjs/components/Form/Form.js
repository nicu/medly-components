"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("@babel/runtime/helpers/typeof")),t=e(require("@babel/runtime/helpers/objectWithoutProperties")),s=require("react/jsx-runtime"),i=require("react"),o=require("@medly-components/core"),a=require("../../helpers/createObjectFromDottedKeys.js"),n=require("../../hooks/useForm/useForm.js"),d=require("../Actions/Actions.js"),c=require("../Fields/Fields.components.js"),l=require("./Form.styled.js"),u=i.memo(i.forwardRef((function(e,u){var m=e.header,h=e.helperText,b=e.disabled,f=e.hideActions,g=e.apiErrorMessages,j=e.initialState,p=e.actionLabel,y=e.actionSchema,F=e.onSubmit,v=e.onReset,x=e.id,S=e.onChange,q=e.fieldSchema,M=e.gridGap,E=e.showDecorators,O=e.variant,L=e.isLoading,A=t(e,["header","helperText","disabled","hideActions","apiErrorMessages","initialState","actionLabel","actionSchema","onSubmit","onReset","id","onChange","fieldSchema","gridGap","showDecorators","variant","isLoading"]),D=i.useMemo((function(){return x||"medly-dynamic-form"}),[x]),w=n.useForm(j),R=w.values,T=w.formKey,k=w.handlers,G=w.errorMessages,K=w.addErrorMessage,P=w.setErrorMessages,C=i.useMemo((function(){return"object"===r(q)?q:q(R)}),[R,q]);return i.useEffect((function(){g&&Object.keys(g).length&&P(g)}),[g]),i.useEffect((function(){S&&S(a.createObjectFromDottedKeys(R))}),[R]),i.createElement(l.Form,Object.assign({},A,{id:D,ref:u,key:T,onSubmit:k.handleFormSubmit(F),onReset:k.handleFormReset(v),gridGap:M}),m&&s.jsx(o.Text,Object.assign({textVariant:"h2"},{children:m}),void 0),h&&s.jsx(o.Text,Object.assign({textVariant:"body1"},{children:h}),void 0),s.jsx(c.Fields,{errorMessages:G,addErrorMessage:K,fields:C,values:R,handlers:k,disabled:b||L,showDecorators:E,variant:O},void 0),!f&&s.jsx(d.Actions,{actionSchema:y,formId:D,isLoading:L,disabled:b,actionLabel:p},void 0))})));u.displayName="Form",u.defaultProps={initialState:{},hideActions:!1,disabled:!1,fullWidth:!1,showDecorators:!0,isLoading:!1};var m=Object.assign(u,{Style:l.Form});exports.Form=m;
