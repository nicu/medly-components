import e from"@babel/runtime/helpers/typeof";import r from"@babel/runtime/helpers/objectWithoutProperties";import{jsx as o}from"react/jsx-runtime";import{memo as t,forwardRef as i,useMemo as a,useEffect as s,createElement as n}from"react";import{Text as d}from"@medly-components/core";import{createObjectFromDottedKeys as m}from"../../helpers/createObjectFromDottedKeys.js";import{useForm as c}from"../../hooks/useForm/useForm.js";import{Actions as l}from"../Actions/Actions.js";import{Fields as h}from"../Fields/Fields.components.js";import{Form as p}from"./Form.styled.js";var b=t(i((function(t,i){var b=t.header,f=t.helperText,u=t.disabled,g=t.hideActions,j=t.apiErrorMessages,y=t.initialState,S=t.actionLabel,v=t.actionSchema,F=t.onSubmit,L=t.onReset,M=t.id,O=t.onChange,x=t.fieldSchema,A=t.gridGap,D=t.showDecorators,E=t.variant,w=t.isLoading,R=r(t,["header","helperText","disabled","hideActions","apiErrorMessages","initialState","actionLabel","actionSchema","onSubmit","onReset","id","onChange","fieldSchema","gridGap","showDecorators","variant","isLoading"]),k=a((function(){return M||"medly-dynamic-form"}),[M]),G=c(y),K=G.values,C=G.formKey,P=G.handlers,T=G.errorMessages,V=G.addErrorMessage,W=G.setErrorMessages,I=a((function(){return"object"===e(x)?x:x(K)}),[K,x]);return s((function(){j&&Object.keys(j).length&&W(j)}),[j]),s((function(){O&&O(m(K))}),[K]),n(p,Object.assign({},R,{id:k,ref:i,key:C,onSubmit:P.handleFormSubmit(F),onReset:P.handleFormReset(L),gridGap:A}),b&&o(d,Object.assign({textVariant:"h2"},{children:b}),void 0),f&&o(d,Object.assign({textVariant:"body1"},{children:f}),void 0),o(h,{errorMessages:T,addErrorMessage:V,fields:I,values:K,handlers:P,disabled:u||w,showDecorators:D,variant:E},void 0),!g&&o(l,{actionSchema:v,formId:k,isLoading:w,disabled:u,actionLabel:S},void 0))})));b.displayName="Form",b.defaultProps={initialState:{},hideActions:!1,disabled:!1,fullWidth:!1,showDecorators:!0,isLoading:!1};var f=Object.assign(b,{Style:p});export{f as Form};
