import{useState as e,useCallback as n}from"react";import t from"@babel/runtime/helpers/defineProperty";import{createDottedKeyObject as r}from"../../helpers/createDottedKeyObject.js";import{createObjectFromDottedKeys as o}from"../../helpers/createObjectFromDottedKeys.js";import u from"@babel/runtime/helpers/slicedToArray";import{useUpdateEffect as c,parseToDate as a}from"@medly-components/utils";import{format as i}from"date-fns";import f from"fast-memoize";function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var d=function(s){var d=e(r(s)),y=u(d,2),h=y[0],m=y[1],p=e({}),b=u(p,2),g=b[0],D=b[1],O=e(0),j=u(O,2),v=j[0],M=j[1];c((function(){m(r(s))}),[s]);var C=n((function(e,n){D((function(r){return l(l({},r),{},t({},e,n))}))}),[]),P=n(f((function(e,n,t){return{startDate:e?e instanceof Date?e:a(e,t||"MM/dd/yyyy"):null,endDate:n?n instanceof Date?n:a(n,t||"MM/dd/yyyy"):null}})),[]),F=n(f((function(e,n){return function(t){C(e,""),n&&n(t)}})),[]),w=n(f((function(e){return function(n){n.preventDefault(),e(o(h))}})),[h,g]),S=n(f((function(e){return function(n){n.preventDefault(),m({}),D({}),M((function(e){return e+1})),e&&e(n)}})),[]),k=n((function(e,n){m((function(r){return l(l({},r),{},t({},e,n))}))}),[]),K=n(f((function(e){return function(n){var r=n.target.value;m((function(n){return l(l({},n),{},t({},e,r))}))}})),[]),x=n(f((function(e){return function(n){var r=n.target.value;m((function(n){return l(l({},n),{},t({},e,""!==r?Number(r):void 0))}))}})),[]),E=n(f((function(e){return function(n){return m((function(r){return l(l({},r),{},t({},e,n))}))}})),[]),R=n(f((function(e){return function(n){return m((function(r){return l(l({},r),{},t({},e,n))}))}})),[]),z=n(f((function(e){return function(n){var r=n.target.checked;m((function(n){return l(l({},n),{},t({},e,r))}))}})),[]),A=n(f((function(e,n){return function(r){m((function(o){return l(l({},o),{},t({},e,r?i(r,n||"MM/dd/yyyy"):""))}))}})),[]),G=n(f((function(e,n){return function(r){m((function(o){var u;return l(l({},o),{},(t(u={},"".concat(e,".startDate"),r.startDate?i(r.startDate,n||"MM/dd/yyyy"):""),t(u,"".concat(e,".endDate"),r.endDate?i(r.endDate,n||"MM/dd/yyyy"):""),u))}))}})),[]),N=n(f((function(e,n){return function(r){n&&Array.from(r).find((function(e){return e.size>n}))?C(e,"File size should be less then ".concat(n/1e6,"MB")):m((function(n){return l(l({},n),{},t({},e,r))}))}})),[]),T=n(f((function(){return function(e){m((function(n){return Object.keys(n||{}).filter((function(n){return n!==e})).reduce((function(e,t){return e[t]=n[t],e}),{})}))}})),[]);return{formKey:v,values:h,setValues:m,errorMessages:g,addErrorMessage:C,setErrorMessages:D,handlers:{handleFormReset:S,handleFormSubmit:w,handleFocus:F,handleTextChange:K,handleNumberChange:x,handleFileChange:N,handleCheckboxChange:z,handleDateChange:A,handleDateRangeChange:G,getPeriodFromDates:P,handleCheckboxGroupChange:R,handleRadioGroupChange:E,handleSingleSelectChange:E,handleMultiSelectChange:R,handleChange:k,handleRemoveField:T}}};export{d as useForm};
