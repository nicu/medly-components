"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("@babel/runtime/helpers/objectWithoutProperties")),t=require("react/jsx-runtime"),i=require("react"),o=(e(i),e(require("@babel/runtime/helpers/slicedToArray"))),n=require("@medly-components/icons"),a=require("@medly-components/utils"),l=e(require("@babel/runtime/helpers/defineProperty")),s=require("../Selectors/Selectors.styled.js"),c=require("./Checkbox.styled.js");function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach((function(r){l(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var b=i.memo(i.forwardRef((function(e,l){var d=e.id,b=e.size,h=e.fullWidth,f=e.label,p=e.labelPosition,v=e.labelVariant,j=e.labelWeight,m=e.indeterminate,x=e.validator,y=e.hasError,g=e.errorText,O=e.className,k=e.isHovered,C=e.onSelectionFromKeyboard,P=r(e,["id","size","fullWidth","label","labelPosition","labelVariant","labelWeight","indeterminate","validator","hasError","errorText","className","isHovered","onSelectionFromKeyboard"]),S=i.useState(""),W=o(S,2),q=W[0],E=W[1],w=a.useKeyPress(" "),I=i.useMemo((function(){return d||f}),[d,f]),M=a.useCombinedRefs(l,i.useRef(null)),z=i.useMemo((function(){return P.checked||P.defaultChecked||m}),[P.checked,P.defaultChecked,m]),D=i.useMemo((function(){return!!g||y||!!q}),[g,y,q]),N=i.useCallback((function(e,r){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&e.preventDefault();var i=e.target,o=x&&x(i.checked,e)||i.validationMessage;E(o),r&&r(e)}),[x]),V=i.useCallback((function(r){return N(r,e.onBlur)}),[N,e.onBlur]),F=i.useCallback((function(r){return N(r,e.onInvalid)}),[N,e.onInvalid]),H=i.useCallback((function(r){return N(r,e.onChange,!1)}),[N,e.onChange]);return i.useEffect((function(){var e;k&&(null===(e=M.current)||void 0===e||e.scrollIntoView({block:"nearest",behavior:"smooth"}))}),[k]),i.useEffect((function(){var e;k&&w&&C&&C(!(null===(e=M.current)||void 0===e?void 0:e.checked))}),[k,w]),t.jsxs(t.Fragment,{children:[(!!g||q)&&t.jsx(c.ErrorText,Object.assign({disabled:P.disabled},{children:g||q}),void 0),t.jsxs(c.CheckboxWithLabelWrapper,Object.assign({className:O,id:"".concat(I,"-wrapper"),htmlFor:I,isActive:z,isHovered:k,hasError:D,disabled:P.disabled},{fullWidth:h,labelPosition:p},{children:[f&&(a.isValidStringOrNumber(f)?t.jsx(s.SelectorLabel,Object.assign({id:"".concat(I,"-label"),type:"checkbox",disabled:P.disabled,hasError:D,labelPosition:p,textVariant:v,textWeight:j,required:P.required},{children:f}),void 0):f),t.jsxs(c.CheckboxWrapper,Object.assign({size:b},{children:[t.jsx(c.HiddenCheckbox,Object.assign({ref:M,id:I,indeterminate:m,hasError:D},u(u({},P),{},{onBlur:V,onInvalid:F,onChange:H})),void 0),t.jsx(c.StyledCheckbox,{children:m?t.jsx(n.MinimizeIcon,{},void 0):t.jsx(n.CheckIcon,{},void 0)},void 0)]}),void 0)]}),void 0)]},void 0)})));b.displayName="Checkbox",b.defaultProps={size:"S",label:"",labelPosition:"right"};var h=Object.assign(b,{Style:c.CheckboxWithLabelWrapper});exports.Checkbox=h;
