"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("@babel/runtime/helpers/objectWithoutProperties")),o=require("react/jsx-runtime"),r=require("react"),n=(e(r),e(require("@babel/runtime/helpers/slicedToArray"))),i=require("@medly-components/utils"),s=e(require("@babel/runtime/helpers/defineProperty")),u=require("../context/TableComponentsCommonProps.context.js"),l=require("../helpers.js"),c=require("../Minimap/Minimap.js"),d=require("./Body.styled.js"),a=require("./Row/Row.styled.js"),p=require("./Row/Row.js"),w=require("./GroupedRow/GroupedRow.js");function m(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function R(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?m(Object(o),!0).forEach((function(t){s(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var b=r.memo((function(e){var s,m,b=r.useContext(u.TableComponentsCommonPropsContext),f=b.data,j=b.groupBy,y=b.rowIdentifier,h=b.showRowWithCardStyle,O=b.noResultRow,g=b.noResultRowText,q=b.tableRef,v=b.withMinimap,P=b.columns,x=b.size,S=b.keyBindings,C=e.selectedRowIds,T=e.onRowSelection,I=e.onGroupedRowSelection,N=e.setUniqueIds,D=t(e,["selectedRowIds","onRowSelection","onGroupedRowSelection","setUniqueIds"]),G=r.useState(-1),K=n(G,2),M=K[0],B=K[1],E=null!==(s=null===(m=q.current)||void 0===m?void 0:m.clientWidth)&&void 0!==s?s:0,W=r.useMemo((function(){return[P]}),[P]),U=i.useKeyPress(S.up,!1,q),k=i.useKeyPress(S.down,!1,q),z=i.useKeyPress(S.expandRow,!1,q),F=i.useKeyPress(S.collapseRow,!1,q);return r.useEffect((function(){f.length&&U&&B((function(e){return e>0?e-1:e}))}),[U,f]),r.useEffect((function(){f.length&&k&&B((function(e){return e<f.length-1?e+1:e}))}),[k,f]),o.jsxs(d.TBody,{children:[0===f.length&&(O||o.jsx(a.NoResultRow,Object.assign({showRowWithCardStyle:h,gridTemplateColumns:l.getGridTemplateColumns(P),withMinimap:v},{children:o.jsx(a.NoResultCell,Object.assign({width:E,tableSize:x},{children:g||"No result"}),void 0)}),void 0)),f.map((function(e,t){var r=(j?e[j]:e[y])||t,n=isNaN(Number(r))?t:r;return j?o.jsx(w.GroupedRow,Object.assign({id:n,titleRowData:e,setUniqueIds:N,selectedTitleRowIds:C,onTitleRowSelection:T},R(R({},D),{},{onGroupedRowSelection:I})),r):o.jsx(p.Row,Object.assign({id:n,data:e,selectedRowIds:C,onRowSelection:T,isNavigated:t===M,isRowExpandedFromKeyboard:z&&t===M,isRowCollapsedFromKeyboard:F&&t===M},D),r)})),v&&o.jsx(c.Minimap,{tableRef:q,minimapDimensionDeps:W},void 0)]},void 0)}));b.displayName="Body",module.exports=b;
