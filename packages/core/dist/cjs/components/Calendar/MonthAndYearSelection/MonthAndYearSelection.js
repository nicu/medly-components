"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("@babel/runtime/helpers/objectWithoutProperties")),t=require("react/jsx-runtime"),n=require("react"),a=(e(n),require("@medly-components/utils")),o=e(require("@babel/runtime/helpers/toConsumableArray")),i=require("../helper.js"),l=require("../../SingleSelect/SingleSelect.js"),u=require("../constants.js"),c=require("./MonthAndYearSelection.styled.js"),s=n.memo((function(e){var s=e.id,d=e.month,m=e.year,h=e.onChange,p=e.minSelectableDate,b=e.maxSelectableDate,f=e.isErrorPresent,S=r(e,["id","month","year","onChange","minSelectableDate","maxSelectableDate","isErrorPresent"]),v=i.getMonthAndYearFromDate(p),y=v.month,g=v.year,j=i.getMonthAndYearFromDate(b),x=j.month,C=j.year,M=n.useCallback((function(e){return e.stopPropagation()}),[]),q=n.useCallback((function(e){return h({year:m,month:e})}),[m,h]),A=n.useCallback((function(e){return h({month:d,year:e})}),[d,h]),D=n.useMemo((function(){return u.SHORT_CALENDAR_MONTHS.reduce((function(e,r,t){var n=new Date(m,t,1)>b||new Date(m,t+1,0)<p;return[].concat(o(e),[{label:r,value:t,disabled:n}])}),[])}),[y,x,m]),Y=n.useMemo((function(){return o(Array(C-g+1)).map((function(e,r){var t=r+g;return{value:t,label:"".concat(t)}}))}),[g,C]);return a.useUpdateEffect((function(){var e=D.filter((function(e){return!e.disabled})).map((function(e){return e.value}));!e.includes(d)&&h({year:m,month:e[0]||0})}),[m]),t.jsxs(c.Wrapper,Object.assign({},S,{onClick:M},{children:[t.jsx(l.SingleSelect,{id:"".concat(s,"-month-selector"),size:"S",value:d,options:D,onChange:q,placeholder:"Month",variant:"flat",minWidth:"5.6rem",errorText:f?" ":""},void 0),t.jsx(l.SingleSelect,{id:"".concat(s,"-year-selector"),size:"S",value:m,options:Y,onChange:A,placeholder:"Year",variant:"flat",minWidth:"5.6rem",errorText:f?" ":""},void 0)]}),void 0)}));s.displayName="MonthAndYearSelection";var d=Object.assign(s,{Style:c.Wrapper});exports.MonthAndYearSelection=d;
