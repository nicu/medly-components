"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("@babel/runtime/helpers/objectWithoutProperties")),t=require("react/jsx-runtime"),o=require("react"),i=(e(o),e(require("@babel/runtime/helpers/slicedToArray"))),n=require("@medly-components/utils"),s=require("../Modal/scrollStateReducer/scrollStateReducer.js"),a=require("./Drawer.context.js"),l=require("./Content/Content.js"),d=require("./Drawer.styled.js"),u=require("./Footer/Footer.js"),c=require("./Header/Header.js"),p=o.memo(o.forwardRef((function(e,l){var u=e.id,c=e.onClose,p=e.open,f=e.width,h=e.children,w=e.withOverlay,j=e.position,y=r(e,["id","onClose","open","width","children","withOverlay","position"]),v=n.useKeyPress("Escape"),b=o.useState(p),m=i(b,2),C=m[0],q=m[1],O=o.useReducer(s.reducer,{scrolledToTop:!0,scrolledToBottom:!1,scrollPosition:0}),g=i(O,2),x=g[0],D=g[1],P=o.useCallback((function(e){return e.stopPropagation()}),[]),k=o.useCallback((function(){return!p&&q(!1)}),[p]);return o.useEffect((function(){p&&v&&c()}),[p,v]),o.useEffect((function(){p&&q(!0)}),[p]),C?t.jsx(d.DrawerBackground,Object.assign({onClick:c,ref:l,open:p},y,{id:"".concat(u,"-overlay"),withOverlay:w},{children:t.jsx(d.DrawerStyled,Object.assign({id:u,position:j,onClick:P,width:f,open:p,onAnimationEnd:k},{children:t.jsx(a.DrawerContext.Provider,Object.assign({value:{id:u,scrollState:x,dispatch:D,onClose:c}},{children:h}),void 0)}),void 0)}),void 0):null})));p.displayName="Drawer",p.defaultProps={id:"medly-drawer",open:!1,position:"right",width:"40rem",withOverlay:!0};var f=Object.assign(p,{Style:d.DrawerBackground,Content:l.Content,Footer:u.Footer,Header:c.Header});exports.Drawer=f;
