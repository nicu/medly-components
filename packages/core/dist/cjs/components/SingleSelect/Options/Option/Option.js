"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react/jsx-runtime"),r=require("react"),i=(e(r),require("styled-components")),s=(e(i),e(require("@babel/runtime/helpers/slicedToArray"))),n=require("@medly-components/icons"),o=require("@medly-components/utils"),a=require("../../../Text/Text.js"),l=require("./Option.styled.js"),u=require("../Options.js"),c=r.memo((function(e){var i=r.useRef(null),c=r.useState(!1),d=s(c,2),f=d[0],p=d[1],v=e.value,h=e.theme,m=e.label,y=e.disabled,x=e.selected,b=e.onClick,j=e.hasError,O=e.hovered,g=e.size,C=e.variant,k=e.maxWidth,q=e.includesNestedOptions,A=m.replace(/ /g,"-"),E=o.useKeyPress("Enter"),S=o.useKeyPress("ArrowLeft"),w=o.useKeyPress("ArrowRight"),N=Array.isArray(v),T=r.useCallback((function(){return p(!0)}),[]),W=r.useCallback((function(){return p(!1)}),[]),M=r.useCallback((function(e){e.stopPropagation(),N&&T(),b({value:v,label:m,disabled:y,selected:x})}),[N,y,b]);return r.useEffect((function(){var e;(x||O)&&(null===(e=i.current)||void 0===e||e.scrollIntoView({block:"nearest"}))}),[x,O]),r.useEffect((function(){!y&&N&&O&&((w||E)&&T(),S&&!v.find((function(e){return e.hovered&&Array.isArray(e.value)}))&&W())}),[v,y,N,O,S,w,E]),o.useOuterClickNotifier((function(){return W()}),i),t.jsxs(l.OptionStyled,Object.assign({id:A,ref:i,disabled:y,selected:x,variant:C,hasError:j,hovered:O,maxWidth:k,onClick:M,onMouseEnter:T,onMouseLeave:W},{children:[r.isValidElement(v)&&!N?t.jsx(l.CustomComponentWrapper,{children:v},void 0):t.jsx(a.Text,Object.assign({textWeight:x?"Medium":"Regular",textVariant:"flat"===C?"body3":h.singleSelect.option.textVariant[g]},{children:m}),void 0),N?t.jsx(n.ArrowRightIcon,{size:"flat"===C?"S":"M"},void 0):x&&"flat"!==C&&t.jsx(n.CheckIcon,{},void 0),f&&N&&t.jsx(u,{isNested:!0,size:g,id:"".concat(A,"-options"),options:v,variant:C,onOptionClick:b,hasError:j,maxWidth:k,includesNestedOptions:q},void 0)]}),void 0)}));c.displayName="Option";var d=Object.assign(c,{Style:l.OptionStyled}),f=i.withTheme(d);module.exports=f;
