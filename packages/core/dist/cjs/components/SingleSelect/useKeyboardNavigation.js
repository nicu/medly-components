"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var r=require("react"),t=(e(r),e(require("@babel/runtime/helpers/slicedToArray"))),n=require("@medly-components/utils"),u=require("./helpers.js");exports.useKeyboardNavigation=function(e){var s=e.isFocused,o=e.selectedOption,i=void 0===o?{value:"",label:""}:o,c=e.setOptions,f=e.options,l=e.areOptionsVisible,a=e.handleOptionClick,d=e.showOptions,p=e.optionsRef,v=e.hideOptions,y=n.useKeyPress("ArrowDown"),h=n.useKeyPress("ArrowLeft"),b=n.useKeyPress("ArrowRight"),O=n.useKeyPress("ArrowUp"),A=n.useKeyPress("Enter"),g=n.useKeyPress("Tab"),P=r.useRef([]),E=r.useState(i),K=t(E,2),m=K[0],w=K[1],q=r.useCallback((function(e){w(e),c(u.getUpdatedOptions(f,e,"hovered"))}),[f]);r.useEffect((function(){l||(P.current=[])}),[l]),r.useEffect((function(){if(s.current&&(y||O)){var e,r=null===(e=P.current.slice(-1)[0])||void 0===e?void 0:e.value,t=r?m:f.find((function(e){return e.hovered}))||f.find((function(e){return e.selected}))||{value:"",label:""},n=y?u.getNextOption:u.getPrevOption;f.length&&l?q(n(t,r||f)):d()}}),[y,O,l]),r.useEffect((function(){s.current&&b&&l&&Array.isArray(m.value)&&(P.current.push(m),(!m.value.some((function(e){return e.hovered}))||!m.value.some((function(e){return e.selected})))&&q(m.value[0]))}),[b,l,m]),r.useEffect((function(){s.current&&h&&l&&P.current.length>0&&q(P.current.pop())}),[h,l]),r.useEffect((function(){s.current&&g&&p.current&&(s.current=!1,setTimeout((function(){return!s.current&&v&&v()}),250))}),[g]),r.useEffect((function(){s.current&&A&&p.current&&f.length>0&&!Array.isArray(m.value)&&a(m)}),[A])};
