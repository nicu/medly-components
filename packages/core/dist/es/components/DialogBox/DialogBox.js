import e from"@babel/runtime/helpers/objectWithoutProperties";import{jsx as o}from"react/jsx-runtime";import{memo as t,forwardRef as r,useRef as n,useState as i,useCallback as s,useEffect as c}from"react";import l from"@babel/runtime/helpers/slicedToArray";import{useKeyPress as p,useCombinedRefs as d}from"@medly-components/utils";import m from"@babel/runtime/helpers/defineProperty";import{DialogBoxContext as u}from"./DialogBox.context.js";import{Actions as a}from"./Actions/Actions.js";import{Content as f}from"./Content/Content.js";import{DialogBoxBackgroundStyled as b}from"./DialogBox.styled.js";import{Header as O}from"./Header/Header.js";import{Popup as y}from"./Popup/Popup.js";function h(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?h(Object(t),!0).forEach((function(o){m(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}var g=t(r((function(t,r){var m=t.id,a=t.open,f=t.onCloseModal,O=t.children,h=t.minWidth,g=t.shouldCloseOnOutsideClick,v=t.minHeight,P=e(t,["id","open","onCloseModal","children","minWidth","shouldCloseOnOutsideClick","minHeight"]),C=p("Escape"),w=d(r,n(null)),x=i(a),D=l(x,2),H=D[0],A=D[1],k=s((function(){g&&f&&f()}),[g,f]);c((function(){return a&&(A(!0),document.body.style.overflow="hidden"),function(){document.body.style.overflow="unset"}}),[a]);var E=s((function(){a||(A(!1),document.body.style.overflow="unset")}),[a]);return c((function(){a&&C&&f&&f()}),[a,C]),H?o(b,Object.assign({},j(j({},P),{},{id:m,open:a}),{onClick:k},{children:o(y,Object.assign({ref:w,id:"".concat(m,"-popup"),onAnimationEnd:E},{minWidth:h,minHeight:v,open:a},{children:o(u.Provider,Object.assign({value:{id:m}},{children:O}),void 0)}),void 0)}),void 0):null})));g.defaultProps={id:"medly-dialog-box",open:!1,shouldCloseOnOutsideClick:!1},g.displayName="DialogBox";var v=Object.assign(g,{Style:b,Header:O,Popup:y,Content:f,Actions:a});export{v as DialogBox};
