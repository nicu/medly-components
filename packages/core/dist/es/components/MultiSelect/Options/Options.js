import{jsxs as e,jsx as n}from"react/jsx-runtime";import{memo as o,useMemo as i,useCallback as t,Fragment as r}from"react";import a from"@babel/runtime/helpers/toConsumableArray";import{Checkbox as c}from"../../Checkbox/Checkbox.js";import{CheckboxGroup as l}from"../../CheckboxGroup/CheckboxGroup.js";import u from"../../SingleSelect/Options/Option/Option.js";import{Chip as s}from"./Chip/Chip.js";import{Options as d,OptionsWrapper as p,ChipArea as v}from"./Options.styled.js";var f=o((function(o){var f=o.id,b=o.inputValue,h=o.values,m=o.size,C=o.options,O=o.cursor,k=o.setIsParentCursorEnabled,g=o.onOptionClick,j=o.showCreatableOption,x=o.handleCreatableOptionClick,y=i((function(){return h.map((function(e){return e.value}))}),[h]),S=t((function(e){return e.stopPropagation()}),[]),z=function(e){return function(n){var o=new Set(y);e.forEach((function(e){return n.includes(e.value)?o.add(e.value):o.delete(e.value)})),g(Array.from(o))}},A=t((function(e){return function(n){var o=n?[].concat(a(y),[e]):y.filter((function(n){return n!==e}));g(o)}}),[y,g]),w=t((function(e){return function(n){return A(e)(n.target.checked)}}),[A]),G=t((function(e){var n=y.filter((function(n){return n!==e}));g(n)}),[y,g]);return e(p,Object.assign({size:m,id:"".concat(f,"-options-wrapper"),onClick:S},{children:[n(v,Object.assign({id:"".concat(f,"-selected-chips")},{children:0===h.length?n("p",{children:"-"},void 0):h.map((function(e){var o=e.value,i=e.label,t=e.disabled;return n(s,{id:"".concat(f,"-").concat(o,"-chip"),value:o,label:i,disabled:t,onClear:G},o)}))}),void 0),n(d,j?Object.assign({id:"".concat(f,"-options"),onClick:S,size:m},{children:n(u,{value:b,label:'Create "'.concat(b,'"'),variant:"filled",onClick:x,size:m,hovered:!0},void 0)}):Object.assign({id:"".concat(f,"-options"),onClick:S,size:m},{children:C.map((function(e,o){return n(r,{children:Array.isArray(e.value)?n(l,{id:"".concat(f,"-").concat(e.label.replace(" ","-"),"-group"),values:y.filter((function(n){return e.value.map((function(e){return e.value})).includes(n)})),showSelectAll:!0,disabled:e.disabled,label:e.label,options:e.value,isHovered:O===o,setIsHovered:k,onChange:z(e.value),fullWidthOptions:!0},void 0):n(c,Object.assign({},e,{name:e.value,id:"".concat(f,"-").concat(e.label.replace(" ","-"),"-checkbox"),checked:y.includes(e.value),isHovered:O===o,onChange:w(e.value),onSelectionFromKeyboard:A(e.value)}),void 0)},o)}))}),void 0)]}),void 0)}));f.displayName="Options";var b=Object.assign(f,{Style:d});export default b;
