import e from"@babel/runtime/helpers/objectWithoutProperties";import{jsx as a,jsxs as r}from"react/jsx-runtime";import{memo as t,forwardRef as i,useMemo as n,Children as o,useState as c,useCallback as s}from"react";import d from"@babel/runtime/helpers/slicedToArray";import{TabsContext as b}from"./Tabs.context.js";import{Tab as l}from"./Tab/Tab.js";import{TabList as f}from"./TabList/TabList.js";import{TabPanel as u}from"./TabPanel/TabPanel.js";import{Tabs as m}from"./Tabs.styled.js";var p=t(i((function(t,i){var l=t.hidePanel,p=t.defaultActive,h=t.active,v=t.onChange,T=t.children,g=t.tabSize,j=t.tabBackground,P=t.forceRender,y=t.variant,S=e(t,["hidePanel","defaultActive","active","onChange","children","tabSize","tabBackground","forceRender","variant"]),O=t.id||"medly-tabs",k=n((function(){return t.children?o.toArray(t.children).filter((function(e){return!e.props.hide})).map((function(e){return e.props.id})):[]}),[T]),z=c(p||k[0]),A=d(z,2),B=A[0],L=A[1],R=n((function(){return h||B}),[h,B]),x=n((function(){return{tabSize:g,tabBackground:j,variant:y}}),[g,j,y]),C=s((function(e){!h&&L(e),v&&v(e)}),[h,v]);return 0===k.length?null:a(m,Object.assign({id:O,ref:i},S,{children:r(b.Provider,Object.assign({value:x},{children:[a(f,Object.assign({id:"".concat(O,"-list"),active:R,onChange:C},{children:T}),void 0),!l&&a(u,Object.assign({id:"".concat(O,"-panel"),active:R,forceRender:P},{children:T}),void 0)]}),void 0)}),void 0)})));p.displayName="Tabs",p.defaultProps={tabSize:"S",tabBackground:"WHITE",forceRender:!1,hidePanel:!1,variant:"flat"};var h=Object.assign(p,{Style:m,Tab:l,TabList:f,TabPanel:u});export{h as Tabs};
