import e from"@babel/runtime/helpers/objectWithoutProperties";import{jsxs as o,jsx as i,Fragment as t}from"react/jsx-runtime";import{memo as n,useState as r,useContext as s,useRef as l,useEffect as d}from"react";import a from"@babel/runtime/helpers/slicedToArray";import{ExpandMoreIcon as c}from"@medly-components/icons";import{Text as m}from"../../../../Text/Text.js";import{TableComponentsCommonPropsContext as w}from"../../../context/TableComponentsCommonProps.context.js";import{getGridTemplateColumns as b}from"../../../helpers.js";import{LoadingDiv as p}from"../../Cell/Styled/LoadingDiv.styled.js";import{RowActionsCell as R}from"../../Cell/RowActionsCell/RowActionsCell.js";import{Row as u,ExpansionCell as h,TitleCell as S,CountChip as x,SecondaryContent as v}from"./TitleRow.styled.js";var f=n((function(n){var f=r(),g=a(f,2),C=g[0],j=g[1],y=n.data,T=n.isRowExpanded,z=n.onClick,E=n.onRowSelection,O=n.isRowIndeterminate,W=e(n,["data","isRowExpanded","onClick","onRowSelection","isRowIndeterminate"]),L=s(w),A=L.tableRef,k=L.columns,D=L.groupBy,I=L.isLoading,M=L.isRowSelectable,P=L.isGroupedTable,G=L.isRowExpandable,V=L.showRowWithCardStyle,B=L.size,N=l(new ResizeObserver((function(e){return j(e[0].contentRect.width)})));return d((function(){if(A.current)return N.current.observe(A.current),N.disconnect}),[]),o(u,Object.assign({},W,{onClick:I?void 0:z,tableWidth:C,isLoading:I,tableSize:B,isRowExpanded:T,isRowSelectable:M,isRowExpandable:G,showRowWithCardStyle:V,gridTemplateColumns:b(k)},{children:[i(h,Object.assign({isRowExpanded:T,showPadding:I,tableSize:B},{children:I?i(p,{},void 0):i(c,{size:"L"===B?"M":"S"},void 0)}),void 0),(M||G)&&i(R,{isRowSelected:W.isRowSelected,isRowSelectable:M,isGroupedTable:P,tableSize:B,isLoading:I,isRowIndeterminate:O,onRowSelection:E,isRowSelectionDisabled:n.isRowSelectionDisabled},void 0),i(S,Object.assign({tableSize:B,isRowSelectable:M,isRowExpandable:G},{children:I?i(p,{},void 0):o(t,{children:[i(m,Object.assign({textVariant:"body2",textWeight:"Medium"},{children:D?y[D]:""}),void 0),i(x,{children:y.count},void 0),i(v,Object.assign({textVariant:"body2",textWeight:"Medium"},{children:y.secondaryContent}),void 0)]},void 0)}),void 0)]}),void 0)}));f.displayName="TitleRow";export{f as TitleRow};
