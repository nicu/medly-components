import e from"@babel/runtime/helpers/slicedToArray";import n from"@babel/runtime/helpers/defineProperty";import r from"@babel/runtime/helpers/toConsumableArray";import{rowActionsColumnConfig as t}from"./constants.js";function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c=function e(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n.map((function(n){var i=t?"".concat(t,".").concat(n.field):n.field,c=n.fitContent&&r&&r[i]||100;return n.children?o(o({},n),{},{children:e(n.children,r,i)}):o(o({},n),{},{size:n.hidden?"minmax(0px, 0px)":"minmax(".concat(c,"px, ").concat(n.fraction||1,"fr)")})}))},l=function(e){var n=e.columnConfigs,i=e.size,l=e.isGroupedTable,u=e.maxColumnSizes,a=e.isRowSelectable,d=e.isRowExpandable;return[].concat(r(l?[o(o({},t),{},{field:"group-expansion",size:"minmax(".concat("L"===i?"5.5rem":"4.8rem",", 0.1fr)")})]:[]),r(a||d?[o(o({},t),{},{size:"minmax(".concat(a&&d?"L"===i?"11.6rem":"8.4rem":"L"===i?"6.4rem":"4.8rem",", 0.1fr)")})]:[]),r(c(n,u)))},u=function(e){var n=e.filter((function(e){return!e.hidden})),r=n.length;return e.reduce((function(e,t){var i,o,c;return t.children?"".concat(e," ").concat(function e(n){var r=n.reduce((function(n,r){return n.map((function(n,t){var i,o,c;return n+(r.children?Number((null===(i=e(r.children).match(/\d+(\.\d*)?/g))||void 0===i?void 0:i[t])||0):Number((null===(o=r.size)||void 0===o||null===(c=o.match(/\d+(\.\d*)?/g))||void 0===c?void 0:c[t])||0))}))}),[0,0]),t=n.filter((function(e){return!e.hidden})).length;return"minmax(".concat(r[0],"px, ").concat(1===t?1:r[1],"fr)")}(t.children)):1===r&&n[0].field===t.field?"".concat(e," minmax(").concat(Number((null===(i=n[0])||void 0===i||null===(o=i.size)||void 0===o||null===(c=o.match(/\d+(\.\d*)?/g))||void 0===c?void 0:c[0])||0),"px, 1fr)"):"".concat(e," ").concat(t.size)}),"")},a=function n(t,i,c){var l=r(c),u=i.split(/\.(.+)/),a=e(u,2),d=a[0],f=a[1],m=c.findIndex((function(e){return e.field===d}))>=0?c.findIndex((function(e){return e.field===d})):c.findIndex((function(e){return e.field===i})),p=new RegExp(/(minmax\()(.*)(,.*\))/);if(m>=0){var s=o({},l[m]);if(s.children&&f)s.children=n(t,f,s.children);else if(t<84)s.size="minmax(84px, ".concat(s.fraction||1,"fr)");else if(t>900){var v;s.size=null===(v=s.size)||void 0===v?void 0:v.replace(p,"$1700px$3")}else{var b;s.size=null===(b=s.size)||void 0===b?void 0:b.replace(p,"$1".concat(t,"px$3"))}l[m]=s}return l},d=function(e,n){var r,t;return null!==(r=null!==(t=n[e])&&void 0!==t?t:n.default)&&void 0!==r?r:""},f=function(e,n){return n.split(".").reduce((function(e,n){return null==e?void 0:e[n]}),e)};export{c as addSizeToColumnConfig,a as changeSize,u as getGridTemplateColumns,f as getNestedValue,l as getUpdatedColumns,d as resolveValueByTableSize};
