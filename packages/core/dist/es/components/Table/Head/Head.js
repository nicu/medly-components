import{jsx as e,jsxs as t}from"react/jsx-runtime";import{memo as o,useContext as r,useCallback as i,useMemo as n}from"react";import l from"@babel/runtime/helpers/slicedToArray";import a from"@babel/runtime/helpers/defineProperty";import{Checkbox as d}from"../../Checkbox/Checkbox.js";import{TableComponentsCommonPropsContext as s}from"../context/TableComponentsCommonProps.context.js";import{TableStateContext as c}from"../context/TableState.context.js";import{changeSize as f,getGridTemplateColumns as m}from"../helpers.js";import{GroupCell as u,GroupCellTitle as p}from"../GroupCell/GroupCell.styled.js";import{THead as h}from"./Head.styled.js";import b from"./HeadCell/HeadCell.js";import{HeadRow as w}from"./HeadRow/HeadRow.styled.js";function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function C(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var S=o((function(o){var a=r(s),g=a.columns,S=a.isLoading,j=a.isRowExpandable,O=a.isRowSelectable,v=a.onSort,y=a.defaultSortOrder,x=a.size,R=a.isGroupedTable,z=a.hiddenDivRef,P=a.addColumnMaxSize,A=a.showRowWithCardStyle,T=o.setColumns,k=o.isAnyRowSelected,D=o.areAllRowsSelected,H=o.isSelectAllDisable,E=o.onSelectAllClick,F=o.maxColumnSizes,G=o.showShadowAtBottom,W=o.showShadowAfterFrozenElement,M=r(c),B=l(M,2),L=B[0].sortField,N=B[1],V=i((function(e){return e.stopPropagation()}),[]),X=i((function(){return E&&E(-1)}),[E]),q=i((function(e,t){return"row-actions"!==t&&T((function(o){return f(e,t,o)}))}),[]),I=i((function(e,t){N((function(o){var r=C(C({},o),{},{sortField:e,sortOrder:t});return v&&v(r),r}))}),[v]),J=n((function(){return e(d,{size:"XS"===x?x:void 0,indeterminate:k,disabled:S||H,checked:D,onChange:X,onClick:V,name:"active"},void 0)}),[S,k,D,H,x,X]),K=i((function(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.map((function(o){var i=r?"".concat(r,".").concat(o.field):o.field;return o.children?t(u,Object.assign({as:r?"div":"th",hidden:o.hidden,gridTemplateColumns:m(o.children),isTitleCell:!0,tableSize:x},{children:[e(p,Object.assign({textVariant:"h5",textWeight:"Strong",uppercase:!0},{children:o.title}),void 0),K(o.children,i)]}),o.field):e(b,Object.assign({as:r?"div":"th",field:i,isLoading:S,fitContent:o.fitContent,columnMaxSize:F[i],sortField:L,align:o.align,frozen:o.frozen,hidden:o.hidden,sortable:o.sortable,defaultSortOrder:y,onSortChange:I,onWidthChange:q,isRowExpandable:j,tableSize:x,isGroupedTable:R,hiddenDivRef:z,addColumnMaxSize:P,isRowActionCell:"row-actions"===o.field,showShadowAtRight:"row-actions"===o.field&&W},{children:"row-actions"===o.field&&O?J:o.title}),i)}))}),[x,j,O,L,P,F,J,W]);return e(h,Object.assign({showShadowAtBottom:G},{children:e(w,Object.assign({gridTemplateColumns:m(g),showRowWithCardStyle:A},{children:K(g)}),void 0)}),void 0)}));S.displayName="Head";export default S;
