import e from"@babel/runtime/helpers/objectWithoutProperties";import{jsxs as t,jsx as a}from"react/jsx-runtime";import{memo as n,useCallback as r}from"react";import{Text as i}from"../../../Text/Text.js";import{startOfWeek as o,endOfWeek as s,endOfDay as d}from"date-fns";import{CalendarGrid as c}from"../../../Calendar/Calendar.styled.js";import{getCalendarDates as l,isSameDay as D,isSameMonth as m,isValidDate as h}from"../../../Calendar/helper.js";import{LONG_CALENDAR_MONTHS as g}from"../../../Calendar/constants.js";import{WeekDays as u}from"../../../Calendar/WeekDays/WeekDays.js";import{DateContainer as f,Date as p}from"./Styled/Date.styled.js";import{Wrapper as v,MonthText as S}from"./Styled/Month.styled.js";var b=n((function(n){var b=n.id,j=n.startDate,x=n.endDate,y=n.month,C=n.year,M=n.onChange,O=n.minSelectableDate,W=n.maxSelectableDate,k=n.hoveredDate,w=n.setHoveredDate,T=n.hideMonthText,H=e(n,["id","startDate","endDate","month","year","onChange","minSelectableDate","maxSelectableDate","hoveredDate","setHoveredDate","hideMonthText"]),A=new Date,I=r((function(e){return function(t){t.stopPropagation(),M(e)}}),[M]),N=r((function(e){return function(){return e&&w&&w(e)}}),[]);return t(v,Object.assign({id:b},H,{children:[!T&&a(S,Object.assign({id:"".concat(b,"-text"),textVariant:"button1",textAlign:"center"},{children:"".concat(g[y]," ").concat(C)}),void 0),t(c,Object.assign({id:"".concat(b,"-grid")},{children:[a(u,{},void 0),l(y,C).map((function(e,t){var n=new Date(e[0],e[1],e[2]),r=D(n,j)||D(n,x),c=D(n,j),l=D(n,x),g=!!(j&&x&&n<x&&n>j),u=!(!k||!(j&&!x&&(n>j&&n<k||n>k&&n<j)||!j&&x&&(n<x&&n>k||n>x&&n<k))),v=m(n,new Date(C,y,1)),S=D(n,A),b=new Date(C,y,1).getDate()===n.getDate(),M=new Date(C,y+1,0).getDate()===n.getDate(),w=D(n,o(n)),T=D(n,s(n)),H=!(!j||x)||!(j||!x),R=W&&n>W||O&&d(n)<O||!1;return a(f,Object.assign({isInActiveMonth:v,disabled:R,isCurrentDate:S,isSelected:r,isStartDateNotSelected:!h(j),isEndDateNotSelected:!h(x),isInDateRangeHover:u,isInDateRange:g,isSelectedStartDate:c,isSelectedEndDate:l,isHoverDateAfterDateSelection:H,isMonthFirstDate:b,isMonthLastDate:M,isWeekFirstDate:w,isWeekLastDate:T,onClick:R?void 0:I(n),onMouseOver:R?void 0:N(n),onMouseOut:N(null)},{children:v&&a(p,Object.assign({title:n.toDateString(),disabled:R,isSelected:r},{children:a(i,Object.assign({textWeight:r?"Strong":"Regular"},{children:n.getDate()}),void 0)}),t)}),t)}))]}),void 0)]}),void 0)}));b.displayName="Month";export{b as Month};
