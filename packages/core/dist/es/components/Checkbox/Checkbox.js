import e from"@babel/runtime/helpers/objectWithoutProperties";import{jsxs as r,Fragment as t,jsx as o}from"react/jsx-runtime";import{memo as i,forwardRef as n,useState as l,useMemo as a,useRef as c,useCallback as s,useEffect as d}from"react";import b from"@babel/runtime/helpers/slicedToArray";import{MinimizeIcon as u,CheckIcon as h}from"@medly-components/icons";import{useKeyPress as f,useCombinedRefs as m,isValidStringOrNumber as p}from"@medly-components/utils";import v from"@babel/runtime/helpers/defineProperty";import{SelectorLabel as g}from"../Selectors/Selectors.styled.js";import{CheckboxWithLabelWrapper as O,ErrorText as y,CheckboxWrapper as j,HiddenCheckbox as P,StyledCheckbox as k}from"./Checkbox.styled.js";function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach((function(r){v(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var S=i(n((function(i,n){var v=i.id,x=i.size,S=i.fullWidth,C=i.label,E=i.labelPosition,W=i.labelVariant,D=i.labelWeight,z=i.indeterminate,I=i.validator,N=i.hasError,V=i.errorText,B=i.className,F=i.isHovered,H=i.onSelectionFromKeyboard,T=e(i,["id","size","fullWidth","label","labelPosition","labelVariant","labelWeight","indeterminate","validator","hasError","errorText","className","isHovered","onSelectionFromKeyboard"]),q=l(""),A=b(q,2),K=A[0],M=A[1],G=f(" "),J=a((function(){return v||C}),[v,C]),L=m(n,c(null)),Q=a((function(){return T.checked||T.defaultChecked||z}),[T.checked,T.defaultChecked,z]),R=a((function(){return!!V||N||!!K}),[V,N,K]),U=s((function(e,r){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&e.preventDefault();var o=e.target,i=I&&I(o.checked,e)||o.validationMessage;M(i),r&&r(e)}),[I]),X=s((function(e){return U(e,i.onBlur)}),[U,i.onBlur]),Y=s((function(e){return U(e,i.onInvalid)}),[U,i.onInvalid]),Z=s((function(e){return U(e,i.onChange,!1)}),[U,i.onChange]);return d((function(){var e;F&&(null===(e=L.current)||void 0===e||e.scrollIntoView({block:"nearest",behavior:"smooth"}))}),[F]),d((function(){var e;F&&G&&H&&H(!(null===(e=L.current)||void 0===e?void 0:e.checked))}),[F,G]),r(t,{children:[(!!V||K)&&o(y,Object.assign({disabled:T.disabled},{children:V||K}),void 0),r(O,Object.assign({className:B,id:"".concat(J,"-wrapper"),htmlFor:J,isActive:Q,isHovered:F,hasError:R,disabled:T.disabled},{fullWidth:S,labelPosition:E},{children:[C&&(p(C)?o(g,Object.assign({id:"".concat(J,"-label"),type:"checkbox",disabled:T.disabled,hasError:R,labelPosition:E,textVariant:W,textWeight:D,required:T.required},{children:C}),void 0):C),r(j,Object.assign({size:x},{children:[o(P,Object.assign({ref:L,id:J,indeterminate:z,hasError:R},w(w({},T),{},{onBlur:X,onInvalid:Y,onChange:Z})),void 0),o(k,{children:o(z?u:h,{},void 0)},void 0)]}),void 0)]}),void 0)]},void 0)})));S.displayName="Checkbox",S.defaultProps={size:"S",label:"",labelPosition:"right"};var C=Object.assign(S,{Style:O});export{C as Checkbox};
