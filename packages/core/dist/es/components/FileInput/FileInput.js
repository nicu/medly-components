import e from"@babel/runtime/helpers/objectWithoutProperties";import{jsxs as i,jsx as l}from"react/jsx-runtime";import{memo as o,forwardRef as t,useRef as r,useCallback as n,useMemo as a}from"react";import{useCombinedRefs as d}from"@medly-components/utils";import{FieldWithLabel as s}from"../FieldWithLabel/FieldWithLabel.js";import{Input as c,Label as u}from"./FileInput.styled.js";var f=o(t((function(o,t){var f=o.files,b=o.disabled,p=o.onFocus,h=o.onChange,m=o.description,g=o.label,j=o.placeholder,v=o.labelPosition,W=o.fullWidth,C=o.required,F=o.descriptionColor,P=e(o,["files","disabled","onFocus","onChange","description","label","placeholder","labelPosition","fullWidth","required","descriptionColor"]),y=o.id||"medly-file-input",O=d(t,r(null)),q=n((function(e){b&&e.preventDefault(),p&&p(e),O.current&&(O.current.value="")}),[b,p]),L=n((function(e){var i=e.target;i.files&&h(i.files)}),[h]),x=a((function(){return f.length?Array.from(f).map((function(e){return e.name})).join(", "):j||"Click to choose file"}),[f,j]);return i(s,Object.assign({id:"".concat(y,"-field")},{fullWidth:W,labelPosition:v},{children:[g&&l(s.Label,Object.assign({},{required:C,labelPosition:v},{children:g}),void 0),i(u,Object.assign({id:"".concat(y,"-label"),htmlFor:y,onClick:q,disabled:b,fullWidth:W},{children:[x,l(c,Object.assign({id:y,ref:O,files:f,required:C},P,{onChange:L}),void 0)]}),void 0),m&&l(s.Description,Object.assign({textColor:F},{children:m}),void 0)]}),void 0)})));f.displayName="FileInput",f.defaultProps={files:[],disabled:!1,fullWidth:!1,required:!1,label:"",labelPosition:"top",description:""};var b=Object.assign(f,{Style:c});export{b as FileInput};
