import{useState as r,useRef as e,useCallback as t,useEffect as n}from"react";import o from"@babel/runtime/helpers/defineProperty";import i from"@babel/runtime/helpers/objectWithoutProperties";import c from"@babel/runtime/helpers/asyncToGenerator";import a from"@babel/runtime/helpers/slicedToArray";import u from"@babel/runtime/regenerator";import s from"axios";function p(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function f(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach((function(e){o(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}var b=function(){var o=r(),p=a(o,2),b=p[0],m=p[1],l=r(),O=a(l,2),y=O[0],h=O[1],d=r(),v=a(d,2),g=v[0],j=v[1],w=r(!1),P=a(w,2),S=P[0],D=P[1],E=e(!0),x=t(function(){var r=c(u.mark((function r(e){var t,n,o;return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.onSuccess,n=e.onError,o=i(e,["onSuccess","onError"]),D(!0),r.abrupt("return",s(f({method:"get"},o)).then((function(r){return m(r.data),h(r),t&&t(r),{response:r}})).catch((function(r){var e=f(f({},r.response),{},{data:f({message:"Something went wrong",variant:"error"},r.response.data)});return j(e),n&&n(e),{error:e}})).finally((function(){E.current&&D(!1)})));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[]);return n((function(){return function(){E.current=!1}}),[]),{data:b,response:y,request:x,isLoading:S,error:g,clear:t((function(){m(void 0),h(void 0),j(void 0),D(!1)}),[])}};export{b as useAxios};
